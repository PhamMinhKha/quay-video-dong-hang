â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        TÃCH Há»¢P SQLITE - THÃ”NG TIN
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… ÄÃƒ TÃCH Há»¢P SQLITE
-------------------

ğŸ“¦ ThÆ° viá»‡n: better-sqlite3
ğŸ“ Database: ~/Library/Application Support/phan-mem-dong-hang/database.db

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ—ƒï¸ Cáº¤U TRÃšC DATABASE:
---------------------

1. Báº¢NG: videos
   - id (INTEGER PRIMARY KEY)
   - filename (TEXT)
   - path (TEXT)
   - size (INTEGER)
   - created_at (TEXT)
   - notes (TEXT)

2. Báº¢NG: qr_detections
   - id (INTEGER PRIMARY KEY)
   - video_id (INTEGER, FOREIGN KEY)
   - qr_text (TEXT)
   - timestamp (REAL)
   - bbox_x, bbox_y, bbox_w, bbox_h (INTEGER)
   - INDEX trÃªn video_id

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”„ LÆ¯U Dá»® LIá»†U:
--------------

Khi quay video:
1. File video .webm Ä‘Æ°á»£c lÆ°u vÃ o videos/
2. File metadata .json váº«n Ä‘Æ°á»£c lÆ°u (backup)
3. ThÃ´ng tin Ä‘Æ°á»£c lÆ°u vÃ o SQLite:
   - ThÃ´ng tin video vÃ o báº£ng videos
   - Danh sÃ¡ch QR detections vÃ o báº£ng qr_detections

Khi xem danh sÃ¡ch:
- Dá»¯ liá»‡u Ä‘Æ°á»£c láº¥y tá»« SQLite (nhanh hÆ¡n)
- Hiá»ƒn thá»‹ Ä‘áº§y Ä‘á»§ thÃ´ng tin vÃ  QR codes

Khi xÃ³a video:
- XÃ³a file video vÃ  .json
- XÃ³a record tá»« báº£ng videos
- XÃ³a táº¥t cáº£ QR detections liÃªn quan

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ¨ Lá»¢I ÃCH:
-----------

âœ… Tra cá»©u nhanh - SQLite cÃ³ index
âœ… TÃ¬m kiáº¿m dá»… - Query SQL linh hoáº¡t
âœ… Dá»¯ liá»‡u cÃ³ cáº¥u trÃºc - Foreign key, rÃ ng buá»™c
âœ… Truy váº¥n phá»©c táº¡p - JOIN, GROUP BY, ORDER BY
âœ… Backup dá»… - Database file cÃ³ thá»ƒ export

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”§ CÃC FUNCTION:
----------------

- initDatabase() - Khá»Ÿi táº¡o database, táº¡o tables
- insertVideo() - ThÃªm video má»›i
- insertQRDetections() - ThÃªm QR detections (batch)
- getAllVideos() - Láº¥y táº¥t cáº£ videos + detections
- deleteVideo() - XÃ³a video vÃ  QR detections
- getVideoByFilename() - Láº¥y chi tiáº¿t 1 video

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

